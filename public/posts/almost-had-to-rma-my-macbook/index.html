<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Almost Had to RMA My Spanking New MacBook :: Anh&#39;s Tech Blog</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="But I managed to recover everyting in the end üòÇ" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />

<link rel="canonical" href="https://blog.aaanh.com/posts/almost-had-to-rma-my-macbook/" />






  
  
  
  
  
  <link rel="stylesheet" href="https://blog.aaanh.com/styles.css">







  <link rel="shortcut icon" href="https://blog.aaanh.com/img/theme-colors/green.png">
  <link rel="apple-touch-icon" href="https://blog.aaanh.com/img/theme-colors/green.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Almost Had to RMA My Spanking New MacBook">
<meta property="og:description" content="But I managed to recover everyting in the end üòÇ" />
<meta property="og:url" content="https://blog.aaanh.com/posts/almost-had-to-rma-my-macbook/" />
<meta property="og:site_name" content="Anh&#39;s Tech Blog" />

  
    <meta property="og:image" content="https://blog.aaanh.com/img/favicon/green.png">
  

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2022-04-10 02:30:00 &#43;0000 UTC" />












</head>
<body class="green">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Anh&#39;s Tech Blog
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;‚ñæ</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/tags">Tags</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
  <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/tags">Tags</a></li>
        
      
      
    
  </ul>
</nav>

  
  <div class="author">
    
    Created by&nbsp;<a href="https://aaanh.ca">Anh Hoang Nguyen</a> <img src="https://avatars.githubusercontent.com/u/37283437?v=4" width="128px" height="128px"> |&nbsp;<a href="https://github.com/aaanh/blog">Github</a>&nbsp;|&nbsp;<a href="https://twitter.com/aaaaaaaaaanh">Twitter</a>
  </div>
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://blog.aaanh.com/posts/almost-had-to-rma-my-macbook/">Almost Had to RMA My Spanking New MacBook</a>
  </h1>
  <div class="post-meta">
    
      <time class="post-date">
        2022-04-10 ::
        
      </time>
    
    
    
  </div>

  
    <span class="post-tags">
      
      #<a href="https://blog.aaanh.com/tags/mac/">mac</a>&nbsp;
      
      #<a href="https://blog.aaanh.com/tags/tinkering/">tinkering</a>&nbsp;
      
      #<a href="https://blog.aaanh.com/tags/linux/">linux</a>&nbsp;
      
      #<a href="https://blog.aaanh.com/tags/asahi/">asahi</a>&nbsp;
      
      #<a href="https://blog.aaanh.com/tags/hacking/">hacking</a>&nbsp;
      
      #<a href="https://blog.aaanh.com/tags/hardware/">hardware</a>&nbsp;
      
      #<a href="https://blog.aaanh.com/tags/test-drive/">test-drive</a>&nbsp;
      
      #<a href="https://blog.aaanh.com/tags/os/">os</a>&nbsp;
      
    </span>
  
  


  
    <div class="table-of-contents">
      <h2>
        Table of Contents
      </h2>
      <nav id="TableOfContents"></nav>
    </div>
  

  <div class="post-content"><div>
        <p>So&hellip; the curiosity finally killed the cat. Recently, I installed Asahi Linux on my M1 Pro Macbook ‚Äî my mission critical daily carry system without a flipping care in the world. It worked surprisingly well, no problems whatsoever, but I found it to be not as useful as I would have imagined. The problem didn&rsquo;t lie with the engineering or stability of the Asahi Linux project, but rather it lied with the general support for Linux systems on ARM chip, especially for Arch-based distributions. Everything was fine but because of the lack of feature support, 5 hours ago, I decided to nuke the dual boot partition and reclaim the disk space, then reinstall macOS altogether because the OS was running a bit slow and hotter than usual.</p>
<p>Without searching online beforehand, I did a full wipe of whatever partitions there were on the SSD. And that right there was the gateway drug down the rabbit hole of whatever the heck Apple was doing to configure their filesystem and disk management, with the sparkling cameos of useless answers on the Apple discussion forums by wannabe gurus and quantum pseudo tech literate self-acclaimed know-it-alls.</p>
<p>The internal SSD of my MacBook before I solved the shenanigan, caused by blindly nuking the partitions is as followed: - disk0: 500GB ‚Äî this is the physical disk total capacity - disk0s1: 500MB ‚Äî GUID Partition Table - Free Space: 4xxGB ‚Äî the weird-ass void - disk0s2: 2GB ‚Äî the recovery partition</p>
<p>Initially, I deleted both the macOS (~400GB) and Linux partitions (~100GB) with the command from the Terminal in Recovery boot:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>diskutil eraseVolume free free disk0s#
</span></span></code></pre></div><p>I came across this erase command from an Asahi Linux stackoverflow post in which the OP also wanted to nuke the disk like myself. However, that was the end of the story on the post without the &ldquo;what to do after you nuke&rdquo; instructions. Well, I thought to myself, if there&rsquo;s no sequel to this post, then the subsequent process should be easy enough. Aaaand, I was dead wrong.</p>
<p>The yeet of the SSD partitions leave behind the void which just could not be detected by the MacOS installer nor the graphical tool (diskutil). To make it detectable again, I had to do the most illogical thing which is expanding disk0s1 which was apparently the &ldquo;GUID Partition Table&rdquo;. It does not make sense because normally this partition just stores the partition table, not the whole usable partition space. But, before I came across this solution, I thought to myself, &ldquo;what the heck, last resort, last ditch effort before I need to send in the laptop for RMA anyway.&rdquo; Turns out, Apple&rsquo;s ways of performing seemingly regular processes are <em>built different</em>, I guess.</p>
<p>A note before I end this blog, I have already tried wiping ALL partitions but they are all locked by kernel (process 0). Heck, I even tried killing the kernel ü§™ process that&rsquo;s using the partitions. In my defense, I was booting from a USB so killing the kernel on the internal SSD is justifiable course of action, to be honest.</p>
<p>So after expanding that GUID partition, the installation can be continued normally without any further hiccup. I think I&rsquo;ll stray away from experimental software for now üòÖ as this problem took a huge chunk of my time for troubleshooting&hellip;</p>

      </div></div>

  
    
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://blog.aaanh.com/posts/containers-go-brrrrr/">
                <span class="button__icon">‚Üê</span>
                <span class="button__text">Containers Go Brrrrr</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://blog.aaanh.com/posts/trying-to-go-only-macbook/">
                <span class="button__text">Trying to go only MacBook and nothing else</span>
                <span class="button__icon">‚Üí</span>
            </a>
        </span>
        
    </div>
</div>

  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>¬© 2023 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
